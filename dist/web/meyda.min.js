!function e(t,r,o){function n(i,u){if(!r[i]){if(!t[i]){var f="function"==typeof require&&require;if(!u&&f)return f(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return n(r?r:e)},c,c.exports,e,t,r,o)}return r[i].exports}for(var a="function"==typeof require&&require,i=0;i<o.length;i++)n(o[i]);return n}({1:[function(e,t,r){t.exports=e("./src/dct.js")},{"./src/dct.js":2}],2:[function(e,t,r){function o(e,t){var r=e.length;t=t||2,cosMap&&cosMap[r]||n(r);var o=e.map(function(){return 0});return o.map(function(o,n){return t*e.reduce(function(e,t,o,a){return e+t*cosMap[r][o+n*r]},0)})}cosMap=null;var n=function(e){cosMap=cosMap||{},cosMap[e]=new Array(e*e);for(var t=Math.PI/e,r=0;e>r;r++)for(var o=0;e>o;o++)cosMap[e][o+r*e]=Math.cos(t*(o+.5)*r)};t.exports=o},{}],3:[function(e,t,r){"use strict";!function(e,t){function r(e){return e.forEach||(e.forEach=function(e){var t,r=this.length;for(t=0;r>t;t++)e(this[t],t,r)}),e}var o,n,a=Float32Array,i=Math.sqrt,u=function(e){return Math.pow(e,2)};e.isComplexArray=o=function(e){return e!==t&&e.hasOwnProperty!==t&&e.hasOwnProperty("real")&&e.hasOwnProperty("imag")},e.ComplexArray=n=function(e,t){o(e)?(this.ArrayType=e.ArrayType,this.real=new this.ArrayType(e.real),this.imag=new this.ArrayType(e.imag)):(this.ArrayType=t||a,this.real=new this.ArrayType(e),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length},n.prototype.toString=function(){var e=[];return this.forEach(function(t,r){e.push("("+t.real.toFixed(2)+","+t.imag.toFixed(2)+")")}),"["+e.join(",")+"]"},n.prototype.map=function(e){var t,r=this.length,o={};for(t=0;r>t;t++)o.real=this.real[t],o.imag=this.imag[t],e(o,t,r),this.real[t]=o.real,this.imag[t]=o.imag;return this},n.prototype.forEach=function(e){var t,r=this.length,o={};for(t=0;r>t;t++)o.real=this.real[t],o.imag=this.imag[t],e(o,t,r)},n.prototype.conjugate=function(){return new n(this).map(function(e){e.imag*=-1})},n.prototype.magnitude=function(){var e=new this.ArrayType(this.length);return this.forEach(function(t,r){e[r]=i(u(t.real)+u(t.imag))}),r(e)}}("undefined"==typeof r&&(this.complex_array={})||r)},{}],4:[function(e,t,r){"use strict";!function(e,t){function r(e){return t.isComplexArray(e)&&e||new l(e)}function o(e,t){var r=e.length;return r&r-1?n(e,t):a(e,t)}function n(e,t){var r,n,a,i,u,p,d,h,v,S,b,w,g,x,M=e.length;if(1===M)return e;for(a=new l(M,e.ArrayType),h=f(M),v=M/h,S=1/s(h),b=new l(v,e.ArrayType),n=0;h>n;n++){for(r=0;v>r;r++)b.real[r]=e.real[r*h+n],b.imag[r]=e.imag[r*h+n];for(v>1&&(b=o(b,t)),p=y(2*c*n/M),d=(t?-1:1)*m(2*c*n/M),i=1,u=0,r=0;M>r;r++)g=b.real[r%v],x=b.imag[r%v],a.real[r]+=i*g-u*x,a.imag[r]+=i*x+u*g,w=i*p-u*d,u=i*d+u*p,i=w}for(r=0;M>r;r++)e.real[r]=S*a.real[r],e.imag[r]=S*a.imag[r];return e}function a(e,t){var r,o,n,a,i,f,l,s,d,h,v,S,b,w,g,x,M,T=e.length;for(n=u(e),a=n.real,i=n.imag,M=1;T>M;){for(s=y(c/M),d=(t?-1:1)*m(c/M),r=0;T/(2*M)>r;r++)for(f=1,l=0,o=0;M>o;o++)v=2*r*M+o,S=v+M,b=a[v],w=i[v],g=f*a[S]-l*i[S],x=l*a[S]+f*i[S],a[v]=p*(b+g),i[v]=p*(w+x),a[S]=p*(b-g),i[S]=p*(w-x),h=f*s-l*d,l=f*d+l*s,f=h;M<<=1}return n}function i(e,t){for(var r=0;t>1;)r<<=1,r+=1&e,e>>=1,t>>=1;return r}function u(e){var t,r,o=e.length,n={};for(r=0;o>r;r++){var a=i(r,o);n.hasOwnProperty(r)||n.hasOwnProperty(a)||(t=e.real[a],e.real[a]=e.real[r],e.real[r]=t,t=e.imag[a],e.imag[a]=e.imag[r],e.imag[r]=t,n[r]=n[a]=!0)}return e}function f(e){for(var t=3,r=s(e);r>=t;){if(e%t===0)return t;t+=2}return e}var l=t.ComplexArray,c=Math.PI,p=Math.SQRT1_2,s=Math.sqrt,y=Math.cos,m=Math.sin;l.prototype.FFT=function(){return o(this,!1)},e.FFT=function(e){return r(e).FFT()},l.prototype.InvFFT=function(){return o(this,!0)},e.InvFFT=function(e){return r(e).InvFFT()},l.prototype.frequencyMap=function(e){return this.FFT().map(e).InvFFT()},e.frequencyMap=function(e,t){return r(e).frequencyMap(t)}}("undefined"==typeof r&&(this.fft={})||r,"undefined"==typeof e&&this.complex_array||e("./complex_array"))},{"./complex_array":3}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].signal))throw new TypeError;for(var n=0,a=0;a<t[0].signal.length;a++)n+=Math.pow(Math.abs(t[0].signal[a]),2);return n},t.exports=r["default"]},{}],6:[function(e,t,r){"use strict";function o(e,t){for(var r=0,o=0,n=0;n<t.length;n++)r+=Math.pow(n,e)*Math.abs(t[n]),o+=t[n];return r/o}Object.defineProperty(r,"__esModule",{value:!0}),r.mu=o},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){if("object"!==o(e.ampSpectrum)||"object"!==o(e.barkScale))throw new TypeError;var t=24,r=e.ampSpectrum,n=new Int32Array(t+1),a=new Float32Array(t);n[0]=0;for(var i=e.barkScale[r.length-1]/t,u=1,f=0,l=0;l<r.length;l++)for(;e.barkScale[l]>i;)n[u++]=l,i=u*e.barkScale[r.length-1]/t;n[t]=r.length-1;for(var c=0;t>c;c++){for(var p=0,s=n[c];s<n[c+1];s++)p+=r[s];a[c]=Math.pow(p,.23)}for(var y=0;y<a.length;y++)f+=a[y];return{specific:a,total:f}},t.exports=r["default"]},{}],8:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){if("object"!==n(e.ampSpectrum)||"object"!==n(e.melFilterBank))throw new TypeError;for(var t=(0,i["default"])(e),r=e.melFilterBank.length,o=Array(r),a=new Float32Array(r),f=0;f<a.length;f++){o[f]=new Float32Array(e.bufferSize/2),a[f]=0;for(var l=0;l<e.bufferSize/2;l++)o[f][l]=e.melFilterBank[f][l]*t[l],a[f]+=o[f][l];a[f]=a[f]>1e-5?Math.log(a[f]):0}var c=Array.prototype.slice.call(a),p=u(c),s=new Float32Array(p);return s};var a=e("./powerSpectrum"),i=o(a),u=e("dct");t.exports=r["default"]},{"./powerSpectrum":11,dct:1}],9:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==n(t[0].signal))throw new TypeError;for(var o=(0,i["default"])(t[0]),a=o.specific,u=0,f=0;f<a.length;f++)u+=15>f?(f+1)*a[f+1]:.066*Math.exp(.171*(f+1));return u*=.11/o.total};var a=e("./loudness"),i=o(a);t.exports=r["default"]},{"./loudness":7}],10:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==n(t[0].signal))throw new TypeError;for(var o=(0,i["default"])(t[0]),a=0,u=0;u<o.specific.length;u++)o.specific[u]>a&&(a=o.specific[u]);return Math.pow((o.total-a)/o.total,2)};var a=e("./loudness"),i=o(a);t.exports=r["default"]},{"./loudness":7}],11:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].ampSpectrum))throw new TypeError;for(var n=new Float32Array(t[0].ampSpectrum.length),a=0;a<n.length;a++)n[a]=Math.pow(t[0].ampSpectrum[a],2);return n},t.exports=r["default"]},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){if("object"!==o(e.signal))throw new TypeError;for(var t=0,r=0;r<e.signal.length;r++)t+=Math.pow(e.signal[r],2);return t/=e.signal.length,t=Math.sqrt(t)},t.exports=r["default"]},{}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].ampSpectrum))throw new TypeError;return(0,n.mu)(1,t[0].ampSpectrum)};var n=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":6}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].ampSpectrum))throw new TypeError;for(var n=0,a=0,i=0;i<t[0].ampSpectrum.length;i++)n+=Math.log(t[0].ampSpectrum[i]),a+=t[0].ampSpectrum[i];return Math.exp(n/t[0].ampSpectrum.length)*t[0].ampSpectrum.length/a},t.exports=r["default"]},{}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].signal)||"object"!==o(t[0].previousSignal))throw new TypeError;for(var n=0,a=-(t[0].bufferSize/2);a<t[0].signal.length/2-1;a++){var i=Math.abs(t[0].signal[a])-Math.abs(t[0].previousSignal[a]);n+=(i+Math.abs(i))/2}return n},t.exports=r["default"]},{}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].ampSpectrum))throw new TypeError;var a=t[0].ampSpectrum,i=(0,n.mu)(1,a),u=(0,n.mu)(2,a),f=(0,n.mu)(3,a),l=(0,n.mu)(4,a),c=-3*Math.pow(i,4)+6*i*u-4*i*f+l,p=Math.pow(Math.sqrt(u-Math.pow(i,2)),4);return c/p};var n=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":6}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].ampSpectrum))throw new TypeError;for(var n=t[0].ampSpectrum,a=t[0].sampleRate/(2*(n.length-1)),i=0,u=0;u<n.length;u++)i+=n[u];for(var f=.99*i,l=n.length-1;i>f&&l>=0;)i-=n[l],--l;return(l+1)*a},t.exports=r["default"]},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){if("object"!==o(e.ampSpectrum))throw new TypeError;var t=(0,n.mu)(1,e.ampSpectrum),r=(0,n.mu)(2,e.ampSpectrum),a=(0,n.mu)(3,e.ampSpectrum),i=2*Math.pow(t,3)-3*t*r+a,u=Math.pow(Math.sqrt(r-Math.pow(t,2)),3);return i/u};var n=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":6}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){if("object"!==o(e.ampSpectrum))throw new TypeError;for(var t=0,r=0,n=new Float32Array(e.ampSpectrum.length),a=0,i=0,u=0;u<e.ampSpectrum.length;u++){t+=e.ampSpectrum[u];var f=u*e.sampleRate/e.bufferSize;n[u]=f,a+=f*f,r+=f,i+=f*e.ampSpectrum[u]}return(e.ampSpectrum.length*i-r*t)/(t*(a-Math.pow(r,2)))},t.exports=r["default"]},{}],20:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(e){if("object"!==o(e.ampSpectrum))throw new TypeError;return Math.sqrt((0,n.mu)(2,e.ampSpectrum)-Math.pow((0,n.mu)(1,e.ampSpectrum),2))};var n=e("./extractorUtilities");t.exports=r["default"]},{"./extractorUtilities":6}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};r["default"]=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];if("object"!==o(t[0].signal))throw new TypeError;for(var n=0,a=0;a<t[0].signal.length;a++)(t[0].signal[a]>=0&&t[0].signal[a+1]<0||t[0].signal[a]<0&&t[0].signal[a+1]>=0)&&n++;return n},t.exports=r["default"]},{}],22:[function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n=e("./extractors/rms"),a=o(n),i=e("./extractors/energy"),u=o(i),f=e("./extractors/spectralSlope"),l=o(f),c=e("./extractors/spectralCentroid"),p=o(c),s=e("./extractors/spectralRolloff"),y=o(s),m=e("./extractors/spectralFlatness"),d=o(m),h=e("./extractors/spectralSpread"),v=o(h),S=e("./extractors/spectralSkewness"),b=o(S),w=e("./extractors/spectralKurtosis"),g=o(w),x=e("./extractors/zcr"),M=o(x),T=e("./extractors/loudness"),A=o(T),_=e("./extractors/perceptualSpread"),F=o(_),E=e("./extractors/perceptualSharpness"),j=o(E),O=e("./extractors/mfcc"),k=o(O),P=e("./extractors/powerSpectrum"),z=o(P),C=e("./extractors/spectralFlux"),R=o(C);r["default"]={buffer:function(e){return e.signal},rms:a["default"],energy:u["default"],complexSpectrum:function(e){return e.complexSpectrum},spectralSlope:l["default"],spectralCentroid:p["default"],spectralRolloff:y["default"],spectralFlatness:d["default"],spectralSpread:v["default"],spectralSkewness:b["default"],spectralKurtosis:g["default"],amplitudeSpectrum:function(e){return e.ampSpectrum},zcr:M["default"],loudness:A["default"],perceptualSpread:F["default"],perceptualSharpness:j["default"],powerSpectrum:z["default"],mfcc:k["default"],spectralFlux:R["default"]},t.exports=r["default"]},{"./extractors/energy":5,"./extractors/loudness":7,"./extractors/mfcc":8,"./extractors/perceptualSharpness":9,"./extractors/perceptualSpread":10,"./extractors/powerSpectrum":11,"./extractors/rms":12,"./extractors/spectralCentroid":13,"./extractors/spectralFlatness":14,"./extractors/spectralFlux":15,"./extractors/spectralKurtosis":16,"./extractors/spectralRolloff":17,"./extractors/spectralSkewness":18,"./extractors/spectralSlope":19,"./extractors/spectralSpread":20,"./extractors/zcr":21}],23:[function(e,t,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=e("./utilities"),i=o(a),u=e("./featureExtractors"),f=o(u),l=e("jsfft/lib/complex_array"),c=o(l),p=e("./meyda-wa");e("jsfft");var s=function(e,t,r){var o={};"undefined"==typeof e.buffer?o.signal=i.arrayToTyped(e):o.signal=e,o.windowedSignal=i.applyWindow(o.signal,t);var n=new c.ComplexArray(r);n.map(function(e,t){var r=e;return r.real=o.windowedSignal[t],r}),n.fft=n.FFT,o.complexSpectrum=n.fft(),o.ampSpectrum=new Float32Array(r/2);for(var a=0;r/2>a;a++)o.ampSpectrum[a]=Math.sqrt(Math.pow(o.complexSpectrum.real[a],2)+Math.pow(o.complexSpectrum.imag[a],2));return o},y={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,callback:null,windowingFunction:"hanning",featureExtractors:f,EXTRACTION_STARTED:!1,_featuresToExtract:[],windowing:i.applyWindow,errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(e){return new p.MeydaAnalyzer(e,y)},extract:function(e,t,r){if(!t)throw(void 0).errors.invalidInput;if("object"!==("undefined"==typeof t?"undefined":n(t)))throw(void 0).errors.invalidInput;if(!e)throw(void 0).errors.featureUndef;if(!i.isPowerOfTwo(t.length))throw(void 0).errors.notPow2;"undefined"!=typeof(void 0).barkScale&&(void 0).barkScale.length===(void 0).bufferSize||((void 0).barkScale=i.createBarkScale((void 0).bufferSize,(void 0).sampleRate,(void 0).bufferSize)),"undefined"!=typeof(void 0).melFilterBank&&(void 0).barkScale.length===(void 0).bufferSize&&(void 0).melFilterBank.length===(void 0).melBands||((void 0).melFilterBank=i.createMelFilterBank((void 0).melBands,(void 0).sampleRate,(void 0).bufferSize)),"undefined"==typeof t.buffer?(void 0).signal=i.arrayToTyped(t):(void 0).signal=t;var o=s(t,(void 0).windowingFunction,(void 0).bufferSize);if((void 0).signal=o.windowedSignal,(void 0).complexSpectrum=o.complexSpectrum,(void 0).ampSpectrum=o.ampSpectrum,r&&(o=s(r,(void 0).windowingFunction,(void 0).bufferSize),(void 0).previousSignal=o.windowedSignal,(void 0).previousComplexSpectrum=o.complexSpectrum,(void 0).previousAmpSpectrum=o.ampSpectrum),"object"===("undefined"==typeof e?"undefined":n(e))){for(var a={},u=0;u<e.length;u++)a[e[u]]=(void 0).featureExtractors[e[u]]({ampSpectrum:(void 0).ampSpectrum,complexSpectrum:(void 0).complexSpectrum,signal:(void 0).signal,bufferSize:(void 0).bufferSize,sampleRate:(void 0).sampleRate,barkScale:(void 0).barkScale,melFilterBank:(void 0).melFilterBank,previousSignal:(void 0).previousSignal,previousAmpSpectrum:(void 0).previousAmpSpectrum,previousComplexSpectrum:(void 0).previousComplexSpectrum});return a}if("string"==typeof e)return(void 0).featureExtractors[e]({ampSpectrum:(void 0).ampSpectrum,complexSpectrum:(void 0).complexSpectrum,signal:(void 0).signal,bufferSize:(void 0).bufferSize,sampleRate:(void 0).sampleRate,barkScale:(void 0).barkScale,melFilterBank:(void 0).melFilterBank,previousSignal:(void 0).previousSignal,previousAmpSpectrum:(void 0).previousAmpSpectrum,previousComplexSpectrum:(void 0).previousComplexSpectrum});throw(void 0).errors.invalidFeatureFmt}};r["default"]=y,"undefined"!=typeof window&&(window.Meyda=y),t.exports=r["default"]},{"./featureExtractors":22,"./meyda-wa":24,"./utilities":25,jsfft:4,"jsfft/lib/complex_array":3}],24:[function(e,t,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.MeydaAnalyzer=void 0;var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=e("./utilities"),u=o(i),f=e("./featureExtractors"),l=o(f);r.MeydaAnalyzer=function(){function e(t,r){var o=this;if(n(this,e),this.meyda=r,!t.audioContext)throw this.meyda.errors.noAC;if(t.bufferSize&&!u.isPowerOfTwo(t.bufferSize))throw this.meyda.errors.notPow2;if(!t.source)throw this.meyda.errors.noSource;this.meyda.audioContext=t.audioContext,this.meyda.bufferSize=t.bufferSize||this.meyda.bufferSize||256,this.meyda.sampleRate=t.sampleRate||this.meyda.audioContext.sampleRate||44100,this.meyda.callback=t.callback,this.meyda.windowingFunction=t.windowingFunction||"hanning",this.meyda.featureExtractors=l,this.meyda.EXTRACTION_STARTED=t.startImmediately||!1,this.meyda.spn=this.meyda.audioContext.createScriptProcessor(this.meyda.bufferSize,1,1),this.meyda.spn.connect(this.meyda.audioContext.destination),this.meyda.featuresToExtract=t.featureExtractors||[],this.meyda.barkScale=u.createBarkScale(this.meyda.bufferSize,this.meyda.sampleRate,this.meyda.bufferSize),this.meyda.melFilterBank=u.createMelFilterBank(this.meyda.melBands,this.meyda.sampleRate,this.meyda.bufferSize),this.meyda.inputData=null,this.meyda.previousInputData=null,this.setSource(t.source),this.meyda.spn.onaudioprocess=function(e){null!==o.meyda.inputData&&(o.meyda.previousInputData=o.meyda.inputData),o.meyda.inputData=e.inputBuffer.getChannelData(0);var t=o.meyda.extract(o.meyda.featuresToExtract,o.meyda.inputData,o.meyda.previousInputData);"function"==typeof o.meyda.callback&&o.meyda.EXTRACTION_STARTED&&o.meyda.callback(t)}}return a(e,[{key:"start",value:function(e){this.meyda.featuresToExtract=e||this.meyda.featuresToExtract,this.meyda.EXTRACTION_STARTED=!0}},{key:"stop",value:function(){this.meyda.EXTRACTION_STARTED=!1}},{key:"setSource",value:function(e){e.connect(this.meyda.spn)}},{key:"get",value:function(e){return this.meyda.inputData?this.meyda.extract(e||this.meyda.featuresToExtract,this.meyda.inputData,this.meyda.previousInputData):null}}]),e}()},{"./featureExtractors":22,"./utilities":25}],25:[function(e,t,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function n(e){for(var t=e;t%2===0&&t>1;)t/=2;return 1===t}function a(e){throw new Error("Meyda:  "+e)}function i(e,t){for(var r=[],o=0;o<Math.min(e.length,t.length);o++)r[o]=e[o]*t[o];return r}function u(e,t){var r=t,o=e;if("rect"!==r){if(""!==r&&r||(r="hanning"),b[r]||(b[r]={}),!b[r][o.length])try{b[r][o.length]=S[r](o.length)}catch(n){throw new Error("Invalid windowing function")}o=i(o,b[r][o.length])}return o}function f(e,t,r){for(var o=new Float32Array(e),n=0;n<o.length;n++)o[n]=n*t/r,o[n]=13*Math.atan(o[n]/1315.8)+3.5*Math.atan(Math.pow(o[n]/7518,2));return o}function l(e){return Array.prototype.slice.call(e)}function c(e){return Float32Array.from(e)}function p(e,t){return e.map(function(e){return e/t})}function s(e){var t=Math.max.apply(null,e);return p(e,t)}function y(e){return e.reduce(function(e,t){return e+t})/e.length}function m(e){return 700*(Math.exp(e/1125)-1)}function d(e){return 1125*Math.log(1+e/700)}function h(e,t,r){for(var o=new Float32Array(e+2),n=new Float32Array(e+2),a=0,i=t/2,u=d(a),f=d(i),l=f-u,c=l/(e+1),p=Array(e+2),s=0;s<o.length;s++)o[s]=s*c,n[s]=m(o[s]),p[s]=Math.floor((r+1)*n[s]/t);for(var y=Array(e),h=0;h<y.length;h++){y[h]=Array.apply(null,new Array(r/2+1)).map(Number.prototype.valueOf,0);for(var v=p[h];v<p[h+1];v++)y[h][v]=(v-p[h])/(p[h+1]-p[h]);for(var S=p[h+1];S<p[h+2];S++)y[h][S]=(p[h+2]-S)/(p[h+2]-p[h+1])}return y}Object.defineProperty(r,"__esModule",{value:!0}),r.isPowerOfTwo=n,r.error=a,r.pointwiseBufferMult=i,r.applyWindow=u,r.createBarkScale=f,r.typedToArray=l,r.arrayToTyped=c,r.normalize=p,r.normalizeToOne=s,r.mean=y,r.melToFreq=m,r.freqToMel=d,r.createMelFilterBank=h;var v=e("./windowing"),S=o(v),b={}},{"./windowing":26}],26:[function(e,t,r){"use strict";function o(e){for(var t=new Float32Array(e),r=2*Math.PI/(e-1),o=2*r,n=0;e/2>n;n++)t[n]=.42-.5*Math.cos(n*r)+.08*Math.cos(n*o);for(var a=e/2;a>0;a--)t[e-a]=t[a-1];return t}function n(e){for(var t=Math.PI/(e-1),r=new Float32Array(e),o=0;e>o;o++)r[o]=Math.sin(t*o);return r}function a(e){for(var t=new Float32Array(e),r=0;e>r;r++)t[r]=.5-.5*Math.cos(2*Math.PI*r/(e-1));return t}function i(e){for(var t=new Float32Array(e),r=0;e>r;r++)t[r]=.54-.46*Math.cos(2*Math.PI*(r/e-1));return t}Object.defineProperty(r,"__esModule",{value:!0}),r.blackman=o,r.sine=n,r.hanning=a,r.hamming=i},{}]},{},[23]);